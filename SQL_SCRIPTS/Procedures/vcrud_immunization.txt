DELIMITER $$

USE `_clinic`$$

DROP PROCEDURE IF EXISTS `vcrud_immunization`$$

DELIMITER $$
CREATE
    PROCEDURE `_clinic`.`vcrud_immunization`(
    IN activity VARCHAR(10),
	IN immunization_id VARCHAR(10),
	IN uid VARCHAR(15),
	IN immunization VARCHAR(255),
	IN LEVEL VARCHAR(15))
	BEGIN
		IF activity="CREATE" THEN
			INSERT INTO immunization 
			VALUES(immunization_id,uid,immunization,LEVEL);
		ELSEIF activity="UPDATE" THEN
			UPDATE immunization
				SET immunization.`immunization_id`=immunization_id,
				immunization.`uid`=uid,
				immunization.`immunization`=immunization,
				immunization.`level`=LEVEL
				WHERE immunization.`immunization_id`=immunization_id;
		ELSEIF activity="DELETE" THEN
			DELETE FROM immunization
				WHERE immunization.`immunization_id`=immunization_id;
		ELSEIF activity="VIEW" THEN		
			SELECT * FROM immunization
				WHERE immunization.`immunization_id`=immunization_id;
		END IF;
	END$$

DELIMITER ;